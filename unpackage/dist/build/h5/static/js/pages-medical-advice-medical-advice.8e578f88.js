(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-medical-advice-medical-advice"],{"0554":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={uniNavBar:i("0d0e").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("uni-nav-bar",{staticClass:"nav-style",attrs:{statusBar:"true",fixed:"true","left-icon":"back","right-icon":"loop",title:e.patient.name,color:"#ffffff","background-color":"#51D3C7"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.toPatientList.apply(void 0,arguments)},clickRight:function(t){arguments[0]=t=e.$handleEvent(t),e.reflesh.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"section-style"},[i("v-uni-text",[e._v("长期医嘱")])],1),i("v-uni-view",{staticClass:"list-view"},[i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.permanentNone,expression:"permanentNone"}],staticClass:"zhanwei"},[e._v("暂无长期医嘱")]),e._l(e.permanentAdvice,(function(t){return i("v-uni-view",{staticClass:"list-item"},[i("v-uni-text",[e._v(e._s(t.drug_name)+" "+e._s(t.times)+" "+e._s(t.create_date))]),i("v-uni-text",[e._v("备注:"+e._s(t.remark))])],1)}))],2),i("v-uni-view",{staticClass:"section-style"},[i("v-uni-text",[e._v("临时医嘱")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.tempNone,expression:"tempNone"}],staticClass:"list-view"},[i("v-uni-text",{staticClass:"zhanwei"},[e._v("暂无临时医嘱")])],1),e._l(e.temporaryAdvice,(function(t){return i("v-uni-view",{staticClass:"list-view"},[i("v-uni-form",{staticClass:"list-item"},[i("v-uni-text",[e._v(e._s(t.new_drug_name))]),i("v-uni-view",{staticClass:"list-item-section"},[i("v-uni-text",{staticClass:"list-preffix"},[e._v("执行时间:")]),i("v-uni-picker",{staticClass:"list-mid",class:{"disable-style":t.able},attrs:{mode:"time",disabled:t.able},on:{change:function(i){arguments[0]=i=e.$handleEvent(i),e.setExecuteTime(i,t)}}},[i("v-uni-input",{attrs:{type:"text",disabled:"true",placeholder:"请点击选择时间"},model:{value:t.tempTime,callback:function(i){e.$set(t,"tempTime",i)},expression:"item.tempTime"}})],1),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.status,expression:"item.status !='1'"}],staticClass:"one-btn small-btn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.submit(t)}}},[e._v("确定")]),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:"1"==t.status,expression:"item.status =='1'"}],staticClass:"err-btn small-btn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.clear(t)}}},[e._v("回退")])],1)],1)],1)}))],2)],1)},o=[]},"0f5a":function(e,t,i){"use strict";i.r(t);var a=i("0554"),n=i("916b");for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("5bb0");var s,d=i("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"212e7fe3",null,!1,a["a"],s);t["default"]=r.exports},"5bb0":function(e,t,i){"use strict";var a=i("ff07"),n=i.n(a);n.a},8916:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".content[data-v-212e7fe3]{padding:%?20?% %?20?% %?20?% %?20?%;width:calc(100% - %?40?%);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.status-bar[data-v-212e7fe3]{height:0;width:100%;background-color:#007aff}.nav-style[data-v-212e7fe3]{width:100%}.form-item[data-v-212e7fe3]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;margin:%?20?% 0 %?20?% 0}.form-cnt[data-v-212e7fe3]{height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border:%?2?% solid;border-radius:%?20?%}.form-cnt-noborder[data-v-212e7fe3]{height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.form-prefix-space[data-v-212e7fe3]{width:%?100?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-left:%?20?%}.form-mid-space[data-v-212e7fe3]{padding:0 %?20?% 0 %?20?%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.form-suffix-space[data-v-212e7fe3]{width:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.suffix-text[data-v-212e7fe3]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.one-btn[data-v-212e7fe3]::after{border:none}.one-btn[data-v-212e7fe3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:#51d3c7;font-size:%?30?%;color:#fff;border-radius:%?50?%;box-shadow:1px 2px 5px rgba(28,42,134,.4)}.err-btn[data-v-212e7fe3]::after{border:none}.err-btn[data-v-212e7fe3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:silver;font-size:%?30?%;color:#fff;border-radius:%?50?%;box-shadow:1px 2px 5px rgba(28,42,134,.4)}.btn-area[data-v-212e7fe3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.table-btn[data-v-212e7fe3]::after{border:none}.btn-icon[data-v-212e7fe3]{padding-right:%?10?%}.table-btn[data-v-212e7fe3]{width:%?120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin:0;padding:0;background-color:#fff;font-size:%?30?%;color:#51d3c7}.disable-style[data-v-212e7fe3]{background-color:#ebedef}uni-input[data-v-212e7fe3]{height:100%}.section-style[data-v-212e7fe3]{padding:%?10?% %?10?% %?10?% %?10?%;border-left:%?10?% solid;border-color:#51d3c7;font-weight:550}.list-view[data-v-212e7fe3]{margin:%?20?% 0;padding:%?20?% %?20?% %?20?% %?20?%;width:calc(100% - %?40?%);border:%?2?% solid;border-color:#51d3c7;border-radius:%?20?%}.list-item[data-v-212e7fe3]{margin-bottom:%?20?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;font-size:%?28?%}.list-item-section[data-v-212e7fe3]{height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-preffix[data-v-212e7fe3]{width:%?120?%}.list-mid[data-v-212e7fe3]{margin-left:%?20?%;border:%?2?% solid;border-radius:%?10?%;border-color:silver}.small-btn[data-v-212e7fe3]{border-radius:%?10?%;height:%?50?%;font-size:%?28?%}.zhanwei[data-v-212e7fe3]{height:%?100?%;font-size:%?28?%}",""]),e.exports=t},"916b":function(e,t,i){"use strict";i.r(t);var a=i("9501"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},9501:function(e,t,i){"use strict";var a=i("4ea4");i("ac1f"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("f51e")),o={data:function(){return{patient:{},date:"",permanentAdvice:[],temporaryAdvice:[],permanentNone:!1,tempNone:!1}},onShow:function(){var e=this;this.patient=n.default.getStorageSync("patient");var t=n.default.getStorageSync("searchInfo");this.date=t.date,this.permanentAdvice=[],this.temporaryAdvice=[],this.$myRequest({url:"/doctororder/long",method:"POST",data:{hemodialysis_id:this.patient.hemodialysis_id},success:function(t){200==t.data.code&&(""==t.data.data?e.permanentNone=!0:(console.log("长期医嘱",t.data.data),e.permanentAdvice=_.cloneDeep(t.data.data)))}}),this.$myRequest({url:"/doctororder/temp",method:"POST",data:{hemodialysis_id:this.patient.hemodialysis_id,date:this.date},success:function(t){if(200==t.data.code){if(""==t.data.data)e.tempNone=!0;else{for(var i=0;i<t.data.data.length;i++)if(""!=t.data.data[i].exec_date){var a=t.data.data[i].exec_date.split(" ");t.data.data[i].tempTime=a[1],t.data.data[i].able=!0}else t.data.data[i].able=!1;e.temporaryAdvice=t.data.data}console.log("临时医嘱",t.data.data)}}})},methods:{toPatientList:function(){uni.navigateTo({url:"../patient-list/patient-list"}),this.patient={},this.date="",this.permanentNone=!1,this.tempNone=!1,this.permanentAdvice=[],this.temporaryAdvice=[]},reflesh:function(){var e=this;uni.showToast({title:"loading",icon:"loading",mask:!0}),this.$myRequest({url:"/doctororder/long",method:"POST",data:{hemodialysis_id:this.patient.hemodialysis_id},success:function(t){200==t.data.code&&(""==t.data.data?e.permanentNone=!0:(console.log("长期医嘱",t.data.data),e.permanentAdvice=_.cloneDeep(t.data.data)))}}),this.$myRequest({url:"/doctororder/temp",method:"POST",data:{hemodialysis_id:this.patient.hemodialysis_id,date:this.date},success:function(t){if(200==t.data.code){if(""==t.data.data)e.tempNone=!0;else{for(var i=0;i<t.data.data.length;i++)if(""!=t.data.data[i].exec_date){var a=t.data.data[i].exec_date.split(" ");t.data.data[i].tempTime=a[1],t.data.data[i].able=!0}else t.data.data[i].able=!1;e.temporaryAdvice=_.cloneDeep(t.data.data)}console.log("临时医嘱",t.data.data)}}})},setExecuteTime:function(e,t){t.tempTime=e.detail.value+":00"},submit:function(e){e.status="1",e.able=!0,e.exec_date=this.date+" "+e.tempTime,this.$myRequest({url:"/doctororder/update/temp",method:"POST",data:{cure_drug_id:e.cure_drug_id,status:"1",exec_date:e.exec_date},success:function(e){200==e.data.code&&(console.log(e),uni.showToast({title:"临时医嘱执行成功",icon:"none",mask:!0}))}})},clear:function(e){e.status="0",e.exec_date="",e.tempTime="",e.able=!1}}};t.default=o},ff07:function(e,t,i){var a=i("8916");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("47269b5a",a,!0,{sourceMap:!1,shadowMode:!1})}}]);